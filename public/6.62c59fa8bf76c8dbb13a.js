(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/J9Y":function(t,e,a){"use strict";a.r(e),a.d(e,"ChildrenRoutingModule",function(){return xa});var r=a("tyNb"),n=a("fXoL"),o=a("AytR"),s=a("tk/3");let c=(()=>{class t{constructor(t){this.http=t,this.baseUrl=o.a.apiUrl}getDataDashboard(){return this.http.get(`${this.baseUrl}/dashboard`)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(s.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var i=a("Wp6s"),b=a("ofXK"),m=a("bTqV"),l=a("Xa2L");function d(t,e){1&t&&(n.Ub(0,"div"),n.Pb(1,"mat-spinner",18),n.Tb())}function u(t,e){if(1&t&&(n.Ub(0,"mat-card-title"),n.Ac(1),n.Tb()),2&t){const t=n.fc();n.Db(1),n.Bc(t.result.user)}}function p(t,e){1&t&&(n.Ub(0,"div"),n.Pb(1,"mat-spinner",18),n.Tb())}function f(t,e){if(1&t&&(n.Ub(0,"mat-card-title"),n.Ac(1),n.Tb()),2&t){const t=n.fc();n.Db(1),n.Bc(t.result.customer)}}function h(t,e){1&t&&(n.Ub(0,"div"),n.Pb(1,"mat-spinner",18),n.Tb())}function g(t,e){if(1&t&&(n.Ub(0,"mat-card-title"),n.Ac(1),n.Tb()),2&t){const t=n.fc();n.Db(1),n.Bc(t.result.type)}}function v(t,e){1&t&&(n.Ub(0,"div"),n.Pb(1,"mat-spinner",18),n.Tb())}function T(t,e){if(1&t&&(n.Ub(0,"mat-card-title"),n.Ac(1),n.Tb()),2&t){const t=n.fc();n.Db(1),n.Bc(t.result.services)}}let U=(()=>{class t{constructor(t){this.dashService=t,this.loading=!1}ngOnInit(){this.loading=!0,setTimeout(()=>{this.showDataDashboard()},500)}showDataDashboard(){this.dashService.getDataDashboard().subscribe(t=>{this.result=t,this.loading=!1},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-dashboard"]],decls:50,vars:8,consts:[[1,"card","card-chart"],[1,"card-header","card-header-success"],["id","dailySalesChart",1,"ct-chart"],[1,"card-body"],[1,"row"],[1,"col-md-3"],[4,"ngIf","ngIfElse"],["contentUser",""],["align","end"],["routerLink","/users"],["mat-button",""],["contentCustomer",""],["routerLink","/customers"],["contentType",""],["routerLink","/type-customer"],["contentService",""],["routerLink","/services"],[1,"card-footer"],[1,"m-auto"]],template:function(t,e){if(1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Pb(2,"div",2),n.Tb(),n.Ub(3,"div",3),n.Ub(4,"div",4),n.Ub(5,"div",5),n.Ub(6,"mat-card"),n.yc(7,d,2,0,"div",6),n.yc(8,u,2,1,"ng-template",null,7,n.zc),n.Ub(10,"mat-card-subtitle"),n.Ac(11,"Usuarios Registrados"),n.Tb(),n.Ub(12,"mat-card-actions",8),n.Ub(13,"a",9),n.Ub(14,"button",10),n.Ac(15," Ver m\xe1s "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(16,"div",5),n.Ub(17,"mat-card"),n.yc(18,p,2,0,"div",6),n.yc(19,f,2,1,"ng-template",null,11,n.zc),n.Ub(21,"mat-card-subtitle"),n.Ac(22,"Clientes"),n.Tb(),n.Ub(23,"mat-card-actions",8),n.Ub(24,"a",12),n.Ub(25,"button",10),n.Ac(26," Ver m\xe1s "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(27,"div",5),n.Ub(28,"mat-card"),n.yc(29,h,2,0,"div",6),n.yc(30,g,2,1,"ng-template",null,13,n.zc),n.Ub(32,"mat-card-subtitle"),n.Ac(33,"Tipos de clientes"),n.Tb(),n.Ub(34,"mat-card-actions",8),n.Ub(35,"a",14),n.Ub(36,"button",10),n.Ac(37," Ver m\xe1s "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(38,"div",5),n.Ub(39,"mat-card"),n.yc(40,v,2,0,"div",6),n.yc(41,T,2,1,"ng-template",null,15,n.zc),n.Ub(43,"mat-card-subtitle"),n.Ac(44,"Servicios Generados"),n.Tb(),n.Ub(45,"mat-card-actions",8),n.Ub(46,"a",16),n.Ub(47,"button",10),n.Ac(48," Ver m\xe1s "),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Pb(49,"div",17),n.Tb()),2&t){const t=n.qc(9),a=n.qc(20),r=n.qc(31),o=n.qc(42);n.Db(7),n.kc("ngIf",e.loading)("ngIfElse",t),n.Db(11),n.kc("ngIf",e.loading)("ngIfElse",a),n.Db(11),n.kc("ngIf",e.loading)("ngIfElse",r),n.Db(11),n.kc("ngIf",e.loading)("ngIfElse",o)}},directives:[i.a,b.l,i.d,i.b,r.d,m.a,l.b,i.e],styles:[""]}),t})();var y=a("+0xr"),C=a("0IaG");a("Tj/N");let A=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}borrarPopup(){this.dialogRef.close(!0)}ClosePopup(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(C.f),n.Ob(C.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-user-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-danger",3,"click"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(n.Ub(0,"h2",0),n.Ac(1," Usuario: "),n.Ub(2,"small"),n.Ac(3),n.Tb(),n.Tb(),n.Pb(4,"hr"),n.Ub(5,"div",1),n.Ac(6," Esta seguro de eliminar a "),n.Ub(7,"b"),n.Ac(8),n.Tb(),n.Pb(9,"br"),n.Ac(10," \xbfDesea Continuar?\n"),n.Tb(),n.Ub(11,"div",2),n.Ub(12,"button",3),n.bc("click",function(){return e.borrarPopup()}),n.Ac(13,"Si, borrar"),n.Tb(),n.Ub(14,"button",4),n.bc("click",function(){return e.ClosePopup()}),n.Ac(15,"Cancelar"),n.Tb(),n.Tb()),2&t&&(n.Db(3),n.Bc(e.data.username),n.Db(5),n.Bc(e.data.username))},directives:[C.g,C.d,C.c,m.a],styles:[""]}),t})();var P=a("N/25"),O=a("LRne"),k=a("lJxs"),S=a("JIr8");let I=(()=>{class t{constructor(t){this.http=t,this.JWT_TOKEN="JWT_TOKEN",this.baseUrl=o.a.apiUrl}getUsers(){return this.http.get(`${this.baseUrl}/users`)}getUserById(t){return this.http.get(`${this.baseUrl}/users/${t}`)}updateUser(t,e){return this.http.put(`${this.baseUrl}/users/${t}`,e)}UpdateProfileUser(t,e){return this.http.put(`${this.baseUrl}/users/profile/${e}`,t)}removeUser(t){return this.http.delete(`${this.baseUrl}/users/${t.uid}`).pipe(Object(k.a)(t=>t.ok),Object(S.a)(t=>Object(O.a)(t.error.errors[0].msg)))}removeUserProfile(t){return this.http.delete(`${this.baseUrl}/users/profile/remove/${t.uid}`)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(s.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var D=a("dNgK"),w=a("M9IT"),_=a("Dh3D"),M=a("kmnG"),R=a("qFsG"),E=a("NFeN");let B=(()=>{class t{transform(t){return t.image?t.image:"assets/img/no-image.png"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Nb({name:"imageUser",type:t,pure:!0}),t})();function x(t,e){1&t&&(n.Ub(0,"th",21),n.Ac(1," Nombre "),n.Tb())}function F(t,e){if(1&t&&(n.Ub(0,"td",22),n.Ac(1),n.Tb()),2&t){const t=e.$implicit;n.Db(1),n.Cc(" ",t.name," ")}}function N(t,e){1&t&&(n.Ub(0,"th",21),n.Ac(1," Usuario "),n.Tb())}function $(t,e){if(1&t&&(n.Ub(0,"td",22),n.Ac(1),n.Tb()),2&t){const t=e.$implicit;n.Db(1),n.Cc(" ",t.username," ")}}function q(t,e){1&t&&(n.Ub(0,"th",21),n.Ac(1," Imagen "),n.Tb())}function z(t,e){if(1&t&&(n.Ub(0,"td",22),n.Pb(1,"img",23),n.gc(2,"imageUser"),n.Tb()),2&t){const t=e.$implicit;n.Db(1),n.lc("alt",t.name),n.kc("src",n.hc(2,2,t),n.tc)}}function L(t,e){1&t&&(n.Ub(0,"th",21),n.Ac(1," Rol "),n.Tb())}function j(t,e){if(1&t&&(n.Ub(0,"td",22),n.Ac(1),n.Tb()),2&t){const t=e.$implicit;n.Db(1),n.Cc(" ","ADMIN_ROLE"===t.role?"Administrador":"Usuario"," ")}}function V(t,e){1&t&&(n.Ub(0,"th",21),n.Ac(1," Estado "),n.Tb())}function G(t,e){if(1&t&&(n.Ub(0,"td",22),n.Ac(1),n.Tb()),2&t){const t=e.$implicit;n.Db(1),n.Cc(" ",!0===t.status?"Activo":"Inactivo","")}}function H(t,e){1&t&&(n.Ub(0,"th",24),n.Ac(1," Acciones. "),n.Tb())}const K=function(t){return["/users/edit",t]};function J(t,e){if(1&t){const t=n.Vb();n.Ub(0,"td",22),n.Ub(1,"mat-icon",25),n.Ub(2,"a",26),n.Ac(3,"edit"),n.Tb(),n.Tb(),n.Ub(4,"mat-icon",27),n.bc("click",function(){n.sc(t);const a=e.$implicit;return n.fc().removeUser(a)}),n.Ac(5,"deleted"),n.Tb(),n.Tb()}if(2&t){const t=e.$implicit;n.Db(2),n.kc("routerLink",n.nc(1,K,t.uid))}}function Q(t,e){1&t&&n.Pb(0,"tr",28)}function Y(t,e){1&t&&n.Pb(0,"tr",29)}function W(t,e){if(1&t&&(n.Ub(0,"tr",30),n.Ub(1,"td",31),n.Ac(2),n.Tb(),n.Tb()),2&t){n.fc();const t=n.qc(6);n.Db(2),n.Cc('no hay registros con "',t.value,'"')}}const X=function(){return[5,10,20]};let Z=(()=>{class t{constructor(){this.displayedColumns=["name","username","image","role","status","action"],this.dataSource=new y.l([]),this.userEvent=new n.o}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.paginator._intl.itemsPerPageLabel="Registros Por p\xe1gina"}removeUser(t){this.userEvent.emit(t)}applySearch(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["app-user-table"]],viewQuery:function(t,e){if(1&t&&(n.Dc(w.a,1),n.Dc(_.a,1)),2&t){let t;n.pc(t=n.cc())&&(e.paginator=t.first),n.pc(t=n.cc())&&(e.sort=t.first)}},inputs:{dataSource:"dataSource"},outputs:{userEvent:"userEvent"},decls:33,vars:5,consts:[[1,"mat-elevation-z8"],[1,"ml-2"],["appearance","standard"],["matInput","","placeholder","Buscar...",3,"keyup"],["input",""],["mat-flat-button","",1,"btnNewRegister"],["routerLink","/users/add",1,"text-white"],["mat-table","","matTableResponsive","","matSort","",1,"table-content-list",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","username"],["matColumnDef","image"],["matColumnDef","role"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["width","30px",3,"src","alt"],["mat-header-cell",""],[1,"cursor-pointer","btn-edit"],[3,"routerLink"],[1,"cursor-pointer","btn-deleted",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"mat-form-field",2),n.Ub(3,"mat-label"),n.Ac(4,"Buscar..."),n.Tb(),n.Ub(5,"input",3,4),n.bc("keyup",function(t){return e.applySearch(t)}),n.Tb(),n.Tb(),n.Ub(7,"button",5),n.Ub(8,"a",6),n.Ac(9,"Agregar Usuario"),n.Tb(),n.Tb(),n.Tb(),n.Ub(10,"table",7),n.Sb(11,8),n.yc(12,x,2,0,"th",9),n.yc(13,F,2,1,"td",10),n.Rb(),n.Sb(14,11),n.yc(15,N,2,0,"th",9),n.yc(16,$,2,1,"td",10),n.Rb(),n.Sb(17,12),n.yc(18,q,2,0,"th",9),n.yc(19,z,3,4,"td",10),n.Rb(),n.Sb(20,13),n.yc(21,L,2,0,"th",9),n.yc(22,j,2,1,"td",10),n.Rb(),n.Sb(23,14),n.yc(24,V,2,0,"th",9),n.yc(25,G,2,1,"td",10),n.Rb(),n.Sb(26,15),n.yc(27,H,2,0,"th",16),n.yc(28,J,6,3,"td",10),n.Rb(),n.yc(29,Q,1,0,"tr",17),n.yc(30,Y,1,0,"tr",18),n.yc(31,W,3,1,"tr",19),n.Tb(),n.Pb(32,"mat-paginator",20),n.Tb()),2&t&&(n.Db(10),n.kc("dataSource",e.dataSource),n.Db(19),n.kc("matHeaderRowDef",e.displayedColumns),n.Db(1),n.kc("matRowDefColumns",e.displayedColumns),n.Db(2),n.kc("pageSizeOptions",n.mc(4,X)))},directives:[M.c,M.f,R.b,m.a,r.d,y.k,_.a,y.c,y.e,y.b,y.g,y.j,y.h,w.a,y.d,_.b,y.a,E.a,y.f,y.i],pipes:[B],styles:["table[_ngcontent-%COMP%]{width:100%}@media (max-width:768px){.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:auto;position:sticky;top:0;z-index:2}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;padding:1rem .5rem;justify-content:space-around}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%] > .mat-sort-header-container[_ngcontent-%COMP%]{padding-left:15px}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell.mat-column-actions[_ngcontent-%COMP%], .mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell.mat-sort-header-disabled[_ngcontent-%COMP%], .mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:not([mat-sort-header]){display:none}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{height:auto}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-actions){display:grid;padding:.5rem;text-align:left;justify-content:left;word-break:break-word}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-actions) > *[_ngcontent-%COMP%]{grid-column:2}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-actions):before{content:attr(data-column-name);text-align:left}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-column-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:0 .5rem}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-column-actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:.5rem 0}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:last-of-type{border:none}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-of-type)   td[_ngcontent-%COMP%]:last-of-type{border-bottom:.5rem solid #fafafa}.mat-card[_ngcontent-%COMP%]   .mat-table[matTableResponsive][_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   .mat-table[matTableResponsive][_ngcontent-%COMP%]{border:.5rem solid #fafafa}}"]}),t})();function tt(t,e){1&t&&(n.Ub(0,"div",10),n.Pb(1,"mat-spinner",11),n.Tb())}function et(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",12),n.Ub(1,"app-user-table",13),n.bc("userEvent",function(e){return n.sc(t),n.fc().deletedUser(e)}),n.Tb(),n.Tb()}if(2&t){const t=n.fc();n.Db(1),n.kc("dataSource",t.dataSource)}}let at=(()=>{class t{constructor(t,e,a,r){this.authService=t,this.userService=e,this.dialog=a,this._snackBar=r,this.loading=!1,this.message="",this.dataSource=new y.l([])}get user(){return this.authService.userAuth}ngOnInit(){this.getUsersData()}getUsersData(){this.loading=!0,this.userService.getUsers().subscribe(t=>{this.loading=!1,this.dataSource.data=t.users},t=>{this.loading=!1,this.openSnackBar("Ocurrio un error inesperado, intente nuevamente"+t)})}editUser(t){console.log(t),this.dialog.open(A,{width:"400px",data:{user:t,item:1}}).afterClosed().subscribe(t=>{t&&console.log(t)})}deletedUser(t){this.dialog.open(A,{width:"300px",data:t}).afterClosed().subscribe(e=>{e&&(this.loading=!0,this.userService.removeUser(t).subscribe(t=>{t?(this.getUsersData(),this.openSnackBar(t.message)):(this.getUsersData(),this.openSnackBar(t))}))})}openSnackBar(t){this._snackBar.open(t,"Aceptar",{duration:3e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(P.a),n.Ob(I),n.Ob(C.b),n.Ob(D.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-users"]],decls:11,vars:2,consts:[[1,"card","card-chart"],[1,"card-header","card-header-success"],["id","dailySalesChart",1,"ct-chart"],[1,"card-body"],[1,"card-title"],[1,"card-category"],[1,"text-success"],["class","text-center",4,"ngIf"],[1,"row"],["class","col",4,"ngIf"],[1,"text-center"],[1,"m-auto"],[1,"col"],[3,"dataSource","userEvent"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Pb(2,"div",2),n.Tb(),n.Ub(3,"div",3),n.Ub(4,"h4",4),n.Ac(5,"Listado de Usuarios "),n.Tb(),n.Ub(6,"p",5),n.Ub(7,"span",6),n.yc(8,tt,2,0,"div",7),n.Tb(),n.Tb(),n.Ub(9,"div",8),n.yc(10,et,2,1,"div",9),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Db(8),n.kc("ngIf",e.loading),n.Db(2),n.kc("ngIf",0!=e.dataSource.data.length&&!e.loading))},directives:[b.l,l.b,Z],styles:[""]}),t})();var rt=a("3Pt+"),nt=a("eIep"),ot=a("d3UM"),st=a("FKr1"),ct=a("bv9b");function it(t,e){1&t&&(n.Ub(0,"div",9),n.Pb(1,"mat-spinner",10),n.Tb())}function bt(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function mt(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function lt(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Ingresa una direcci\xf3n de correo v\xe1lida "),n.Tb())}function dt(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function ut(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function pt(t,e){if(1&t&&(n.Ub(0,"div",16),n.Ub(1,"div",17),n.Ub(2,"mat-form-field",18),n.Ub(3,"mat-label"),n.Ac(4,"Contrase\xf1a"),n.Tb(),n.Pb(5,"input",34),n.yc(6,ut,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb()),2&t){const t=n.fc(3);n.Db(6),n.kc("ngIf",t.dataControls.password.hasError("required"))}}function ft(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function ht(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function gt(t,e){1&t&&n.Pb(0,"mat-progress-bar",35)}function vt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"form",14),n.bc("ngSubmit",function(){n.sc(t);const e=n.fc(2);return e.saveDataUser(1==e.userId?1:2)}),n.Ub(1,"div",15),n.Ub(2,"div",16),n.Ub(3,"div",17),n.Ub(4,"mat-form-field",18),n.Ub(5,"mat-label"),n.Ac(6,"Nombre y Apellido"),n.Tb(),n.Pb(7,"input",19),n.yc(8,bt,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Ub(9,"div",16),n.Ub(10,"div",17),n.Ub(11,"mat-form-field",18),n.Ub(12,"mat-label"),n.Ac(13,"Email"),n.Tb(),n.Pb(14,"input",21),n.yc(15,mt,4,0,"mat-error",20),n.yc(16,lt,2,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(17,"div",15),n.Ub(18,"div",16),n.Ub(19,"div",17),n.Ub(20,"mat-form-field",18),n.Ub(21,"mat-label"),n.Ac(22,"Usuario"),n.Tb(),n.Pb(23,"input",22),n.yc(24,dt,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.yc(25,pt,7,1,"div",23),n.Tb(),n.Ub(26,"div",15),n.Ub(27,"div",16),n.Ub(28,"div",17),n.Ub(29,"mat-form-field",24),n.Ub(30,"mat-label"),n.Ac(31,"Rol"),n.Tb(),n.Ub(32,"mat-select",25),n.Ub(33,"mat-option",26),n.Ac(34,"Seleccione una opci\xf3n"),n.Tb(),n.Ub(35,"mat-option",27),n.Ac(36,"Usuario"),n.Tb(),n.Ub(37,"mat-option",28),n.Ac(38,"Administrador"),n.Tb(),n.Tb(),n.yc(39,ft,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Ub(40,"div",16),n.Ub(41,"div",17),n.Ub(42,"mat-form-field",24),n.Ub(43,"mat-label"),n.Ac(44,"Estado"),n.Tb(),n.Ub(45,"mat-select",29),n.Ub(46,"mat-option",26),n.Ac(47,"Seleccione una opci\xf3n"),n.Tb(),n.Ub(48,"mat-option",30),n.Ac(49,"Activo"),n.Tb(),n.Ub(50,"mat-option",30),n.Ac(51,"Inactivo"),n.Tb(),n.Tb(),n.yc(52,ht,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.yc(53,gt,1,0,"mat-progress-bar",31),n.Ub(54,"button",32),n.Ac(55),n.Tb(),n.Pb(56,"div",33),n.Tb()}if(2&t){const t=n.fc(2);n.kc("formGroup",t.userForm),n.Db(8),n.kc("ngIf",t.dataControls.name.hasError("required")),n.Db(7),n.kc("ngIf",t.dataControls.email.hasError("required")),n.Db(1),n.kc("ngIf",t.dataControls.email.hasError("email")),n.Db(8),n.kc("ngIf",t.dataControls.username.hasError("required")),n.Db(1),n.kc("ngIf",!t.userId),n.Db(14),n.kc("ngIf",t.dataControls.role.hasError("required")),n.Db(9),n.kc("value",!0),n.Db(2),n.kc("value",!1),n.Db(2),n.kc("ngIf",t.dataControls.status.hasError("required")),n.Db(1),n.kc("ngIf",t.messageSend),n.Db(2),n.Bc(1==t.userId?"Actualizar Usuario":"Agregar Usuario")}}function Tt(t,e){if(1&t&&(n.Ub(0,"div",11),n.Ub(1,"div",12),n.yc(2,vt,57,12,"form",13),n.Tb(),n.Tb()),2&t){const t=n.fc();n.Db(2),n.kc("ngIf",t.userForm)}}let Ut=(()=>{class t{constructor(t,e,a,r,n,o){this.router=t,this.formBuilder=e,this.route=a,this.userService=r,this._snackBar=n,this.authService=o,this.loading=!1,this.messageSend=!1,this.messageError="",this.paramId=""}ngOnInit(){this.loading=!0,"edit"==this.route.snapshot.url[1].path?(this.userId=!0,this.route.params.pipe(Object(nt.a)(({id:t})=>this.userService.getUserById(t))).subscribe(t=>{1==t.ok&&(this.paramId=t.user.uid,this.loading=!1,this.userForm=this.formBuilder.group({name:[t.user.name,[rt.o.required]],email:[t.user.email,[rt.o.required,rt.o.email]],username:[t.user.username,[rt.o.required]],role:[t.user.role,[rt.o.required]],status:[t.user.status,[rt.o.required]]}))})):(this.loading=!1,this.userForm=this.formBuilder.group({name:["",[rt.o.required]],email:["",[rt.o.required,rt.o.email]],username:["",[rt.o.required]],password:["",[rt.o.required]],role:["",[rt.o.required]],status:["",[rt.o.required]]}))}get dataControls(){return this.userForm.controls}saveDataUser(t){if(1==t){if(this.userForm.invalid)return void this.userForm.markAllAsTouched();this.messageSend=!0,this.userService.updateUser(this.paramId,this.userForm.value).subscribe(t=>{t&&(this.router.navigateByUrl("/users"),this.openSnackBar(t.message))},t=>{this.messageError="",this.messageSend=!1,t.error.errors.forEach(t=>{this.messageError+=`${t.msg} \n`}),this.openSnackBar(this.messageError)})}else{if(this.userForm.invalid)return void this.userForm.markAllAsTouched();this.messageSend=!0,this.authService.register(this.userForm.value).subscribe(t=>{1==t&&(this.messageSend=!1,this.userForm.reset(),this.userForm.markAsUntouched(),this.openSnackBar("Se ha completado el registro de este usuario"))},t=>{this.messageError="",this.messageSend=!1,t.error.errors.forEach(t=>{this.messageError+=`${t.msg} \n`}),this.openSnackBar(this.messageError)})}}openSnackBar(t){this._snackBar.open(t,"Aceptar",{duration:3e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(r.b),n.Ob(rt.d),n.Ob(r.a),n.Ob(I),n.Ob(D.a),n.Ob(P.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-add-user"]],decls:10,vars:3,consts:[[1,"card","card-chart"],[1,"card-header","card-header-success"],["id","dailySalesChart",1,"ct-chart"],[1,"card-body"],[1,"card-title"],[1,"card-category"],[1,"text-success"],["class","text-center",4,"ngIf"],["class","container row mat-elevation-z8 m-5 p-5 m-auto",4,"ngIf"],[1,"text-center"],[1,"m-auto"],[1,"container","row","mat-elevation-z8","m-5","p-5","m-auto"],[1,"col"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","name"],[4,"ngIf"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com"],["type","text","matInput","","formControlName","username"],["class","col-md-6",4,"ngIf"],["appearance","fill"],["formControlName","role"],["value",""],["value","USER_ROLE"],["value","ADMIN_ROLE"],["formControlName","status"],[3,"value"],["mode","indeterminate",4,"ngIf"],["type","submit",1,"btn","btn-primary","pull-left"],[1,"clearfix"],["type","password","matInput","","formControlName","password"],["mode","indeterminate"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Pb(2,"div",2),n.Tb(),n.Ub(3,"div",3),n.Ub(4,"h4",4),n.Ac(5),n.Tb(),n.Ub(6,"p",5),n.Ub(7,"span",6),n.yc(8,it,2,0,"div",7),n.Tb(),n.Tb(),n.yc(9,Tt,3,1,"div",8),n.Tb(),n.Tb()),2&t&&(n.Db(5),n.Cc(" ",1==e.userId?"Actualizar Usuario":"Nuevo Usuario"," "),n.Db(3),n.kc("ngIf",e.loading),n.Db(1),n.kc("ngIf",!e.loading))},directives:[b.l,l.b,rt.p,rt.k,rt.f,M.c,M.f,R.b,rt.c,rt.j,rt.e,ot.a,st.m,M.b,ct.a],styles:[""]}),t})(),yt=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}borrarPopup(){this.dialogRef.close(!0)}ClosePopup(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(C.f),n.Ob(C.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-type-customer-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-danger",3,"click"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(n.Ub(0,"h2",0),n.Ac(1," Nombre: "),n.Ub(2,"small"),n.Ac(3),n.Tb(),n.Tb(),n.Pb(4,"hr"),n.Ub(5,"div",1),n.Ac(6," Esta seguro de eliminar a "),n.Ub(7,"b"),n.Ac(8),n.Tb(),n.Pb(9,"br"),n.Ac(10," \xbfDesea Continuar?\n"),n.Tb(),n.Ub(11,"div",2),n.Ub(12,"button",3),n.bc("click",function(){return e.borrarPopup()}),n.Ac(13,"Si, borrar"),n.Tb(),n.Ub(14,"button",4),n.bc("click",function(){return e.ClosePopup()}),n.Ac(15,"Cancelar"),n.Tb(),n.Tb()),2&t&&(n.Db(3),n.Bc(e.data.typename),n.Db(5),n.Bc(e.data.typename))},directives:[C.g,C.d,C.c,m.a],styles:[""]}),t})(),Ct=(()=>{class t{constructor(t){this.http=t,this.baseUrl=o.a.apiUrl}getTypeCustomer(){return this.http.get(`${this.baseUrl}/typecustomer`)}getTypeById(t){return this.http.get(`${this.baseUrl}/typecustomer/${t}`)}registerNewType(t){return this.http.post(`${this.baseUrl}/typecustomer/`,t)}updateType(t,e){return this.http.put(`${this.baseUrl}/typecustomer/${t}`,e)}removeTypeCustomer(t){return this.http.delete(`${this.baseUrl}/typecustomer/${t._id}`)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(s.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function At(t,e){1&t&&(n.Ub(0,"th",18),n.Ac(1," Nombre "),n.Tb())}function Pt(t,e){if(1&t&&(n.Ub(0,"td",19),n.Ac(1),n.Tb()),2&t){const t=e.$implicit;n.Db(1),n.Cc(" ",t.typename," ")}}function Ot(t,e){1&t&&(n.Ub(0,"th",18),n.Ac(1," Descripci\xf3n "),n.Tb())}function kt(t,e){if(1&t&&(n.Ub(0,"span"),n.Ac(1),n.Tb()),2&t){const t=n.fc().$implicit;n.Db(1),n.Cc("",t.description," ")}}function St(t,e){1&t&&n.Ac(0,"Sin descripci\xf3n.")}function It(t,e){if(1&t&&(n.Ub(0,"td",19),n.yc(1,kt,2,1,"span",20),n.yc(2,St,1,0,"ng-template",null,21,n.zc),n.Tb()),2&t){const t=e.$implicit,a=n.qc(3);n.Db(1),n.kc("ngIf",t.description)("ngIfElse",a)}}function Dt(t,e){1&t&&(n.Ub(0,"th",22),n.Ac(1," Acciones. "),n.Tb())}function wt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"span"),n.Ub(1,"mat-icon",26),n.bc("click",function(){n.sc(t);const e=n.fc().$implicit;return n.fc().removeCustomer(e)}),n.Ac(2,"deleted"),n.Tb(),n.Tb()}}const _t=function(t){return["/type-customer/edit",t]};function Mt(t,e){if(1&t&&(n.Ub(0,"td",19),n.Ub(1,"mat-icon",23),n.Ub(2,"a",24),n.Ac(3,"edit"),n.Tb(),n.Tb(),n.yc(4,wt,3,0,"span",25),n.Tb()),2&t){const t=e.$implicit,a=n.fc();n.Db(2),n.kc("routerLink",n.nc(2,_t,t._id)),n.Db(2),n.kc("ngIf","ADMIN_ROLE"===a.user.role)}}function Rt(t,e){1&t&&n.Pb(0,"tr",27)}function Et(t,e){1&t&&n.Pb(0,"tr",28)}function Bt(t,e){if(1&t&&(n.Ub(0,"tr",29),n.Ub(1,"td",30),n.Ac(2),n.Tb(),n.Tb()),2&t){n.fc();const t=n.qc(6);n.Db(2),n.Cc('no hay registros con "',t.value,'"')}}const xt=function(){return[5,10,20]};let Ft=(()=>{class t{constructor(){this.displayedColumns=["typename","description","action"],this.dataSource=new y.l([]),this.customerEvent=new n.o}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.paginator._intl.itemsPerPageLabel="Registros Por p\xe1gina"}applySearch(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}removeCustomer(t){this.customerEvent.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["app-type-customer-table"]],viewQuery:function(t,e){if(1&t&&(n.Dc(w.a,1),n.Dc(_.a,1)),2&t){let t;n.pc(t=n.cc())&&(e.paginator=t.first),n.pc(t=n.cc())&&(e.sort=t.first)}},inputs:{dataSource:"dataSource",user:"user"},outputs:{customerEvent:"customerEvent"},decls:24,vars:5,consts:[[1,"mat-elevation-z8"],[1,"ml-2"],["appearance","standard"],["matInput","","placeholder","Buscar...",3,"keyup"],["input",""],["mat-flat-button","",1,"btnNewRegister"],["routerLink","/type-customer/add",1,"text-white"],["mat-table","","matTableResponsive","","matSort","",1,"table-content-list",3,"dataSource"],["matColumnDef","typename"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["notDescription",""],["mat-header-cell",""],[1,"cursor-pointer","btn-edit"],[3,"routerLink"],[4,"ngIf"],[1,"cursor-pointer","btn-deleted",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"mat-form-field",2),n.Ub(3,"mat-label"),n.Ac(4,"Buscar..."),n.Tb(),n.Ub(5,"input",3,4),n.bc("keyup",function(t){return e.applySearch(t)}),n.Tb(),n.Tb(),n.Ub(7,"button",5),n.Ub(8,"a",6),n.Ac(9,"Agregar Tipo de Cliente"),n.Tb(),n.Tb(),n.Tb(),n.Ub(10,"table",7),n.Sb(11,8),n.yc(12,At,2,0,"th",9),n.yc(13,Pt,2,1,"td",10),n.Rb(),n.Sb(14,11),n.yc(15,Ot,2,0,"th",9),n.yc(16,It,4,2,"td",10),n.Rb(),n.Sb(17,12),n.yc(18,Dt,2,0,"th",13),n.yc(19,Mt,5,4,"td",10),n.Rb(),n.yc(20,Rt,1,0,"tr",14),n.yc(21,Et,1,0,"tr",15),n.yc(22,Bt,3,1,"tr",16),n.Tb(),n.Pb(23,"mat-paginator",17),n.Tb()),2&t&&(n.Db(10),n.kc("dataSource",e.dataSource),n.Db(10),n.kc("matHeaderRowDef",e.displayedColumns),n.Db(1),n.kc("matRowDefColumns",e.displayedColumns),n.Db(2),n.kc("pageSizeOptions",n.mc(4,xt)))},directives:[M.c,M.f,R.b,m.a,r.d,y.k,_.a,y.c,y.e,y.b,y.g,y.j,y.h,w.a,y.d,_.b,y.a,b.l,E.a,y.f,y.i],styles:["table[_ngcontent-%COMP%]{width:100%}@media (max-width:768px){.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:auto;position:sticky;top:0;z-index:2}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;padding:1rem .5rem;justify-content:space-around}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%] > .mat-sort-header-container[_ngcontent-%COMP%]{padding-left:15px}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell.mat-column-actions[_ngcontent-%COMP%], .mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell.mat-sort-header-disabled[_ngcontent-%COMP%], .mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:not([mat-sort-header]){display:none}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{height:auto}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-actions){display:grid;padding:.5rem;text-align:left;justify-content:left;word-break:break-word}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-actions) > *[_ngcontent-%COMP%]{grid-column:2}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-actions):before{content:attr(data-column-name);text-align:left}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-column-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:0 .5rem}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-column-actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:.5rem 0}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:last-of-type{border:none}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-of-type)   td[_ngcontent-%COMP%]:last-of-type{border-bottom:.5rem solid #fafafa}.mat-card[_ngcontent-%COMP%]   .mat-table[matTableResponsive][_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   .mat-table[matTableResponsive][_ngcontent-%COMP%]{border:.5rem solid #fafafa}}"]}),t})();function Nt(t,e){1&t&&(n.Ub(0,"div",10),n.Pb(1,"mat-spinner",11),n.Tb())}function $t(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",12),n.Ub(1,"app-type-customer-table",13),n.bc("customerEvent",function(e){return n.sc(t),n.fc().deletedCustomer(e)}),n.Tb(),n.Tb()}if(2&t){const t=n.fc();n.Db(1),n.kc("dataSource",t.dataSource)("user",t.user)}}let qt=(()=>{class t{constructor(t,e,a,r){this.typeCustomer=t,this.authService=e,this._snackBar=a,this.dialog=r,this.loading=!1,this.message="",this.dataSource=new y.l([])}get user(){return this.authService.userAuth}ngOnInit(){this.getTypeCustomerData()}getTypeCustomerData(){this.loading=!0,this.typeCustomer.getTypeCustomer().subscribe(t=>{this.loading=!1,this.dataSource.data=t.typeCustomer},t=>{this.loading=!1,this.openSnackBar("Ocurrio un error inesperado, intente nuevamente"+t),console.log(t)})}deletedCustomer(t){this.message="",this.dialog.open(yt,{width:"300px",data:t}).afterClosed().subscribe(e=>{e&&(this.loading=!0,this.typeCustomer.removeTypeCustomer(t).subscribe(t=>{this.getTypeCustomerData(),this.openSnackBar(t.message)},t=>{400==t.status?(this.loading=!1,this.message="",t.error.errors.forEach(t=>{this.message+=`${t.msg} \n`}),this.openSnackBar(this.message)):401==t.status&&(this.loading=!1,this.openSnackBar(t.error.message))}))})}openSnackBar(t){this._snackBar.open(t,"Aceptar",{duration:4e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(Ct),n.Ob(P.a),n.Ob(D.a),n.Ob(C.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-type-customer"]],decls:11,vars:2,consts:[[1,"card","card-chart"],[1,"card-header","card-header-success"],["id","dailySalesChart",1,"ct-chart"],[1,"card-body"],[1,"card-title"],[1,"card-category"],[1,"text-success"],["class","text-center",4,"ngIf"],[1,"row"],["class","col",4,"ngIf"],[1,"text-center"],[1,"m-auto"],[1,"col"],[3,"dataSource","user","customerEvent"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Pb(2,"div",2),n.Tb(),n.Ub(3,"div",3),n.Ub(4,"h4",4),n.Ac(5,"Tipos de clientes"),n.Tb(),n.Ub(6,"p",5),n.Ub(7,"span",6),n.yc(8,Nt,2,0,"div",7),n.Tb(),n.Tb(),n.Ub(9,"div",8),n.yc(10,$t,2,2,"div",9),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Db(8),n.kc("ngIf",e.loading),n.Db(2),n.kc("ngIf",0!=e.dataSource.data.length&&!e.loading))},directives:[b.l,l.b,Ft],styles:[""]}),t})();function zt(t,e){1&t&&(n.Ub(0,"div",9),n.Pb(1,"mat-spinner",10),n.Tb())}function Lt(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function jt(t,e){1&t&&n.Pb(0,"mat-progress-bar",25)}function Vt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"form",14),n.bc("ngSubmit",function(){n.sc(t);const e=n.fc(2);return e.saveTypeData(1==e.typeId?1:2)}),n.Ub(1,"div",15),n.Ub(2,"div",16),n.Ub(3,"div",17),n.Ub(4,"mat-form-field",18),n.Ub(5,"mat-label"),n.Ac(6,"Tipo de cliente"),n.Tb(),n.Pb(7,"input",19),n.yc(8,Lt,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Ub(9,"div",16),n.Ub(10,"div",17),n.Ub(11,"mat-form-field",18),n.Ub(12,"mat-label"),n.Ac(13,"Descripci\xf3n (Opcional)"),n.Tb(),n.Pb(14,"input",21),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.yc(15,jt,1,0,"mat-progress-bar",22),n.Ub(16,"button",23),n.Ac(17),n.Tb(),n.Pb(18,"div",24),n.Tb()}if(2&t){const t=n.fc(2);n.kc("formGroup",t.typeForm),n.Db(8),n.kc("ngIf",t.dataControls.typename.hasError("required")),n.Db(7),n.kc("ngIf",t.messageSend),n.Db(2),n.Bc(1==t.typeId?"Actualizar ":"Agregar")}}function Gt(t,e){if(1&t&&(n.Ub(0,"div",11),n.Ub(1,"div",12),n.yc(2,Vt,19,4,"form",13),n.Tb(),n.Tb()),2&t){const t=n.fc();n.Db(2),n.kc("ngIf",t.typeForm)}}let Ht=(()=>{class t{constructor(t,e,a,r,n){this.router=t,this.typeService=e,this.formBuilder=a,this.route=r,this._snackBar=n,this.loading=!1,this.messageSend=!1,this.messageError="",this.paramId=""}ngOnInit(){this.loading=!0,"edit"==this.route.snapshot.url[1].path?(this.typeId=!0,this.route.params.pipe(Object(nt.a)(({id:t})=>this.typeService.getTypeById(t))).subscribe(t=>{const{typename:e,_id:a,description:r}=t.typeCustomer;t&&(this.paramId=a,this.loading=!1,this.typeForm=this.formBuilder.group({typename:[e,[rt.o.required]],description:[r]}))})):(this.loading=!1,this.typeId=!1,this.typeForm=this.formBuilder.group({typename:["",[rt.o.required]],description:[""]}))}get dataControls(){return this.typeForm.controls}saveTypeData(t){if(1==t){if(this.typeForm.invalid)return void this.typeForm.markAllAsTouched();this.messageSend=!0,this.typeService.updateType(this.paramId,this.typeForm.value).subscribe(t=>{1==t.ok&&(this.router.navigateByUrl("/type-customer"),this.openSnackBar(t.message))},t=>{this.messageError="",this.messageSend=!1,this.messageError=t.error.message,this.openSnackBar(this.messageError)})}else{if(this.typeForm.invalid)return void this.typeForm.markAllAsTouched();this.messageSend=!0,this.typeService.registerNewType(this.typeForm.value).subscribe(t=>{1==t.ok&&(console.log(t),this.messageSend=!1,this.typeForm=this.formBuilder.group({typename:["",[rt.o.required]],description:[""]}),this.openSnackBar(t.message))},t=>{this.messageError="",this.messageSend=!1,t.error.errors.forEach(t=>{this.messageError+=`${t.msg} \n`}),this.openSnackBar(this.messageError)})}}openSnackBar(t){this._snackBar.open(t,"Aceptar",{duration:3e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(r.b),n.Ob(Ct),n.Ob(rt.d),n.Ob(r.a),n.Ob(D.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-add-type"]],decls:10,vars:2,consts:[[1,"card","card-chart"],[1,"card-header","card-header-success"],["id","dailySalesChart",1,"ct-chart"],[1,"card-body"],[1,"card-title"],[1,"card-category"],[1,"text-success"],["class","text-center",4,"ngIf"],["class","container row mat-elevation-z8 m-5 p-5 m-auto",4,"ngIf"],[1,"text-center"],[1,"m-auto"],[1,"container","row","mat-elevation-z8","m-5","p-5","m-auto"],[1,"col"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","typename"],[4,"ngIf"],["type","email","matInput","","formControlName","description"],["mode","indeterminate",4,"ngIf"],["type","submit",1,"btn","btn-primary","pull-left"],[1,"clearfix"],["mode","indeterminate"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Pb(2,"div",2),n.Tb(),n.Ub(3,"div",3),n.Ub(4,"h4",4),n.Ac(5," Nuevo Tipo de cliente"),n.Tb(),n.Ub(6,"p",5),n.Ub(7,"span",6),n.yc(8,zt,2,0,"div",7),n.Tb(),n.Tb(),n.yc(9,Gt,3,1,"div",8),n.Tb(),n.Tb()),2&t&&(n.Db(8),n.kc("ngIf",e.loading),n.Db(1),n.kc("ngIf",!e.loading))},directives:[b.l,l.b,rt.p,rt.k,rt.f,M.c,M.f,R.b,rt.c,rt.j,rt.e,M.b,ct.a],styles:[""]}),t})(),Kt=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}borrarPopup(){this.dialogRef.close(!0)}ClosePopup(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(C.f),n.Ob(C.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-customers-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-danger",3,"click"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(n.Ub(0,"h2",0),n.Ac(1," Nombre: "),n.Ub(2,"small"),n.Ac(3),n.Tb(),n.Tb(),n.Pb(4,"hr"),n.Ub(5,"div",1),n.Ac(6," Esta seguro de eliminar a "),n.Ub(7,"b"),n.Ac(8),n.Tb(),n.Pb(9,"br"),n.Ac(10," \xbfDesea Continuar?\n"),n.Tb(),n.Ub(11,"div",2),n.Ub(12,"button",3),n.bc("click",function(){return e.borrarPopup()}),n.Ac(13,"Si, borrar"),n.Tb(),n.Ub(14,"button",4),n.bc("click",function(){return e.ClosePopup()}),n.Ac(15,"Cancelar"),n.Tb(),n.Tb()),2&t&&(n.Db(3),n.Bc(e.data.name),n.Db(5),n.Bc(e.data.name))},directives:[C.g,C.d,C.c,m.a],styles:[""]}),t})(),Jt=(()=>{class t{constructor(t){this.http=t,this.baseUrl=o.a.apiUrl}getCustomers(){return this.http.get(`${this.baseUrl}/customer`)}registerNewCustomer(t){return this.http.post(`${this.baseUrl}/customer/`,t)}updateCustomer(t,e){return this.http.put(`${this.baseUrl}/customer/${t}`,e)}getCustomerById(t){return this.http.get(`${this.baseUrl}/customer/${t}`)}removeCustomer(t){return this.http.delete(`${this.baseUrl}/customer/${t._id}`)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(s.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Qt(t,e){1&t&&(n.Ub(0,"th",20),n.Ac(1," Nombre "),n.Tb())}function Yt(t,e){if(1&t&&(n.Ub(0,"td",21),n.Ac(1),n.Tb()),2&t){const t=e.$implicit;n.Db(1),n.Cc(" ",t.name," ")}}function Wt(t,e){1&t&&(n.Ub(0,"th",20),n.Ac(1," Correo Electr\xf3nico "),n.Tb())}function Xt(t,e){if(1&t&&(n.Ub(0,"td",21),n.Ac(1),n.Tb()),2&t){const t=e.$implicit;n.Db(1),n.Cc(" ",t.email," ")}}function Zt(t,e){1&t&&(n.Ub(0,"th",20),n.Ac(1," Tipo de cliente "),n.Tb())}function te(t,e){if(1&t&&(n.Ub(0,"td",21),n.Ac(1),n.Tb()),2&t){const t=e.$implicit;n.Db(1),n.Cc(" ",t.customerType.typename," ")}}function ee(t,e){1&t&&(n.Ub(0,"th",20),n.Ac(1," Estado "),n.Tb())}function ae(t,e){if(1&t&&(n.Ub(0,"td",21),n.Ac(1),n.Tb()),2&t){const t=e.$implicit;n.Db(1),n.Cc(" ",!0===t.status?"Activo":"Inactivo","")}}function re(t,e){1&t&&(n.Ub(0,"th",22),n.Ac(1," Acciones. "),n.Tb())}function ne(t,e){if(1&t){const t=n.Vb();n.Ub(0,"span"),n.Ub(1,"mat-icon",26),n.bc("click",function(){n.sc(t);const e=n.fc().$implicit;return n.fc().removeCustomer(e)}),n.Ac(2,"deleted"),n.Tb(),n.Tb()}}const oe=function(t){return["/customers/edit",t]};function se(t,e){if(1&t&&(n.Ub(0,"td",21),n.Ub(1,"mat-icon",23),n.Ub(2,"a",24),n.Ac(3,"edit"),n.Tb(),n.Tb(),n.yc(4,ne,3,0,"span",25),n.Tb()),2&t){const t=e.$implicit,a=n.fc();n.Db(2),n.kc("routerLink",n.nc(2,oe,t._id)),n.Db(2),n.kc("ngIf","ADMIN_ROLE"===a.user.role)}}function ce(t,e){1&t&&n.Pb(0,"tr",27)}function ie(t,e){1&t&&n.Pb(0,"tr",28)}function be(t,e){if(1&t&&(n.Ub(0,"tr",29),n.Ub(1,"td",30),n.Ac(2),n.Tb(),n.Tb()),2&t){n.fc();const t=n.qc(6);n.Db(2),n.Cc('no hay registros con "',t.value,'"')}}const me=function(){return[5,10,20]};let le=(()=>{class t{constructor(){this.displayedColumns=["name","email","type","status","action"],this.dataSource=new y.l([]),this.customerEvent=new n.o}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.paginator._intl.itemsPerPageLabel="Registros Por p\xe1gina"}applySearch(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}removeCustomer(t){this.customerEvent.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["app-customers-table"]],viewQuery:function(t,e){if(1&t&&(n.Dc(w.a,1),n.Dc(_.a,1)),2&t){let t;n.pc(t=n.cc())&&(e.paginator=t.first),n.pc(t=n.cc())&&(e.sort=t.first)}},inputs:{dataSource:"dataSource",user:"user"},outputs:{customerEvent:"customerEvent"},decls:30,vars:5,consts:[[1,"mat-elevation-z8"],[1,"ml-2"],["appearance","standard"],["matInput","","placeholder","Buscar...",3,"keyup"],["input",""],["mat-flat-button","",1,"btnNewRegister"],["routerLink","/customers/add",1,"text-white"],["mat-table","","matTableResponsive","","matSort","",1,"table-content-list",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","type"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"cursor-pointer","btn-edit"],[3,"routerLink"],[4,"ngIf"],[1,"cursor-pointer","btn-deleted",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"mat-form-field",2),n.Ub(3,"mat-label"),n.Ac(4,"Buscar..."),n.Tb(),n.Ub(5,"input",3,4),n.bc("keyup",function(t){return e.applySearch(t)}),n.Tb(),n.Tb(),n.Ub(7,"button",5),n.Ub(8,"a",6),n.Ac(9,"Agregar Cliente"),n.Tb(),n.Tb(),n.Tb(),n.Ub(10,"table",7),n.Sb(11,8),n.yc(12,Qt,2,0,"th",9),n.yc(13,Yt,2,1,"td",10),n.Rb(),n.Sb(14,11),n.yc(15,Wt,2,0,"th",9),n.yc(16,Xt,2,1,"td",10),n.Rb(),n.Sb(17,12),n.yc(18,Zt,2,0,"th",9),n.yc(19,te,2,1,"td",10),n.Rb(),n.Sb(20,13),n.yc(21,ee,2,0,"th",9),n.yc(22,ae,2,1,"td",10),n.Rb(),n.Sb(23,14),n.yc(24,re,2,0,"th",15),n.yc(25,se,5,4,"td",10),n.Rb(),n.yc(26,ce,1,0,"tr",16),n.yc(27,ie,1,0,"tr",17),n.yc(28,be,3,1,"tr",18),n.Tb(),n.Pb(29,"mat-paginator",19),n.Tb()),2&t&&(n.Db(10),n.kc("dataSource",e.dataSource),n.Db(16),n.kc("matHeaderRowDef",e.displayedColumns),n.Db(1),n.kc("matRowDefColumns",e.displayedColumns),n.Db(2),n.kc("pageSizeOptions",n.mc(4,me)))},directives:[M.c,M.f,R.b,m.a,r.d,y.k,_.a,y.c,y.e,y.b,y.g,y.j,y.h,w.a,y.d,_.b,y.a,E.a,b.l,y.f,y.i],styles:["table[_ngcontent-%COMP%]{width:100%}@media (max-width:768px){.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:auto;position:sticky;top:0;z-index:2}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;padding:1rem .5rem;justify-content:space-around}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%] > .mat-sort-header-container[_ngcontent-%COMP%]{padding-left:15px}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell.mat-column-actions[_ngcontent-%COMP%], .mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell.mat-sort-header-disabled[_ngcontent-%COMP%], .mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:not([mat-sort-header]){display:none}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{height:auto}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-actions){display:grid;padding:.5rem;text-align:left;justify-content:left;word-break:break-word}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-actions) > *[_ngcontent-%COMP%]{grid-column:2}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-actions):before{content:attr(data-column-name);text-align:left}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-column-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:0 .5rem}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-column-actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:.5rem 0}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:last-of-type{border:none}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-of-type)   td[_ngcontent-%COMP%]:last-of-type{border-bottom:.5rem solid #fafafa}.mat-card[_ngcontent-%COMP%]   .mat-table[matTableResponsive][_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   .mat-table[matTableResponsive][_ngcontent-%COMP%]{border:.5rem solid #fafafa}}"]}),t})();function de(t,e){1&t&&(n.Ub(0,"div",10),n.Pb(1,"mat-spinner",11),n.Tb())}function ue(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",12),n.Ub(1,"app-customers-table",13),n.bc("customerEvent",function(e){return n.sc(t),n.fc().deletedCustomer(e)}),n.Tb(),n.Tb()}if(2&t){const t=n.fc();n.Db(1),n.kc("dataSource",t.dataSource)("user",t.user)}}let pe=(()=>{class t{constructor(t,e,a,r){this.customerService=t,this._snackBar=e,this.authService=a,this.dialog=r,this.loading=!1,this.message="",this.dataSource=new y.l([])}get user(){return this.authService.userAuth}ngOnInit(){this.getCustomerData()}getCustomerData(){this.loading=!0,this.customerService.getCustomers().subscribe(t=>{this.loading=!1,this.dataSource.data=t.customer},t=>{this.loading=!1,this.openSnackBar("Ocurrio un error inesperado, intente nuevamente"+t)})}deletedCustomer(t){this.message="",this.dialog.open(Kt,{width:"300px",data:t}).afterClosed().subscribe(e=>{e&&(this.loading=!0,this.customerService.removeCustomer(t).subscribe(t=>{console.log(t),this.getCustomerData(),this.openSnackBar(t.message)},t=>{this.loading=!1,this.openSnackBar(401==t.status?"\xa1 No esta autorizado para eliminar un cliente !":t.error.message)}))})}openSnackBar(t){this._snackBar.open(t,"Aceptar",{duration:4e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(Jt),n.Ob(D.a),n.Ob(P.a),n.Ob(C.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-customers"]],decls:11,vars:2,consts:[[1,"card","card-chart"],[1,"card-header","card-header-success"],["id","dailySalesChart",1,"ct-chart"],[1,"card-body"],[1,"card-title"],[1,"card-category"],[1,"text-success"],["class","text-center",4,"ngIf"],[1,"row"],["class","col",4,"ngIf"],[1,"text-center"],[1,"m-auto"],[1,"col"],[3,"dataSource","user","customerEvent"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Pb(2,"div",2),n.Tb(),n.Ub(3,"div",3),n.Ub(4,"h4",4),n.Ac(5,"Listado de Clientes"),n.Tb(),n.Ub(6,"p",5),n.Ub(7,"span",6),n.yc(8,de,2,0,"div",7),n.Tb(),n.Tb(),n.Ub(9,"div",8),n.yc(10,ue,2,2,"div",9),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Db(8),n.kc("ngIf",e.loading),n.Db(2),n.kc("ngIf",0!=e.dataSource.data.length&&!e.loading))},directives:[b.l,l.b,le],styles:[""]}),t})();var fe=a("ihCf");function he(t,e){1&t&&(n.Ub(0,"div",9),n.Pb(1,"mat-spinner",10),n.Tb())}function ge(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function ve(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function Te(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Ingresa una direcci\xf3n de correo v\xe1lida "),n.Tb())}function Ue(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function ye(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function Ce(t,e){if(1&t&&(n.Ub(0,"mat-option",31),n.Ac(1),n.Tb()),2&t){const t=e.$implicit;n.kc("value",t._id),n.Db(1),n.Bc(t.typename)}}function Ae(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function Pe(t,e){1&t&&n.Pb(0,"mat-progress-bar",32)}function Oe(t,e){if(1&t){const t=n.Vb();n.Ub(0,"form",14),n.bc("ngSubmit",function(){n.sc(t);const e=n.fc(2);return e.saveDataCustomer(1==e.customerId?1:2)}),n.Ub(1,"div",15),n.Ub(2,"div",16),n.Ub(3,"div",17),n.Ub(4,"mat-form-field",18),n.Ub(5,"mat-label"),n.Ac(6,"Nombre y Apellido"),n.Tb(),n.Pb(7,"input",19),n.yc(8,ge,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Ub(9,"div",16),n.Ub(10,"div",17),n.Ub(11,"mat-form-field",18),n.Ub(12,"mat-label"),n.Ac(13,"Correo Electr\xf3nico"),n.Tb(),n.Pb(14,"input",21),n.yc(15,ve,4,0,"mat-error",20),n.yc(16,Te,2,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(17,"div",15),n.Ub(18,"div",16),n.Ub(19,"div",17),n.Ub(20,"mat-form-field",18),n.Ub(21,"mat-label"),n.Ac(22,"Tel\xe9fono"),n.Tb(),n.Pb(23,"input",22),n.yc(24,Ue,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Ub(25,"div",16),n.Ub(26,"div",17),n.Ub(27,"mat-form-field",18),n.Ub(28,"mat-label"),n.Ac(29,"Direcci\xf3n"),n.Tb(),n.Ub(30,"textarea",23),n.Ac(31,"                  "),n.Tb(),n.yc(32,ye,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(33,"div",15),n.Ub(34,"div",16),n.Ub(35,"div",17),n.Ub(36,"mat-form-field",24),n.Ub(37,"mat-label"),n.Ac(38,"Estado"),n.Tb(),n.Ub(39,"mat-select",25),n.Ub(40,"mat-option",26),n.Ac(41,"Seleccione una opci\xf3n"),n.Tb(),n.yc(42,Ce,2,2,"mat-option",27),n.Tb(),n.yc(43,Ae,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.yc(44,Pe,1,0,"mat-progress-bar",28),n.Ub(45,"button",29),n.Ac(46),n.Tb(),n.Pb(47,"div",30),n.Tb()}if(2&t){const t=n.fc(2);n.kc("formGroup",t.customerForm),n.Db(8),n.kc("ngIf",t.dataControls.name.hasError("required")),n.Db(7),n.kc("ngIf",t.dataControls.email.hasError("required")),n.Db(1),n.kc("ngIf",t.dataControls.email.hasError("email")),n.Db(8),n.kc("ngIf",t.dataControls.phone.hasError("required")),n.Db(8),n.kc("ngIf",t.dataControls.address.hasError("required")),n.Db(10),n.kc("ngForOf",t.typeNames),n.Db(1),n.kc("ngIf",t.dataControls.customerType.hasError("required")),n.Db(1),n.kc("ngIf",t.messageSend),n.Db(2),n.Cc("",1==t.customerId?"Actualizar cliente":"Agregar cliente"," ")}}function ke(t,e){if(1&t&&(n.Ub(0,"div",11),n.Ub(1,"div",12),n.yc(2,Oe,48,10,"form",13),n.Tb(),n.Tb()),2&t){const t=n.fc();n.Db(2),n.kc("ngIf",t.customerForm)}}let Se=(()=>{class t{constructor(t,e,a,r,n,o){this.router=t,this.formBuilder=e,this.route=a,this._snackBar=r,this.typeCustomer=n,this.customer=o,this.loading=!1,this.messageSend=!1,this.submittedErr=!1,this.messageError="",this.typeNames=[]}ngOnInit(){this.loading=!0,this.showForm()}showForm(){this.loading=!1,this.typeCustomer.getTypeCustomer().subscribe(t=>{this.typeNames=t.typeCustomer}),this.customerForm=this.formBuilder.group({name:["",[rt.o.required]],email:["",[rt.o.required,rt.o.email]],phone:[void 0,[rt.o.required]],address:["",[rt.o.required]],customerType:["",[rt.o.required]]})}fieldNotValid(t){var e;return!(!(null===(e=this.customerForm.get(t))||void 0===e?void 0:e.invalid)||!this.customerForm.touched)}get dataControls(){return this.customerForm.controls}saveDataCustomer(t){const e=Object.keys(this.customerForm.controls);let a=0;if(Object.values(this.customerForm.controls).forEach(t=>{console.log(e[a],t.value,t.status),a++}),this.customerForm.invalid)return this.customerForm.markAllAsTouched(),void(this.submittedErr=!0);{this.messageSend=!0;const{name:t,email:e,phone:a,address:r,customerType:n}=this.customerForm.value;this.customerData={name:t,email:e,phone:a,address:r,customerType:n},this.customer.registerNewCustomer(this.customerData).subscribe(t=>{1==t.ok&&(this.messageSend=!1,this.openSnackBar(t.message))},t=>{this.messageError="",this.messageSend=!1,t.error.errors.forEach(t=>{this.messageError+=`${t.msg} \n`}),this.openSnackBar(this.messageError)})}}openSnackBar(t){this._snackBar.open(t,"Aceptar",{duration:6e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(r.b),n.Ob(rt.d),n.Ob(r.a),n.Ob(D.a),n.Ob(Ct),n.Ob(Jt))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-add-customer"]],decls:10,vars:3,consts:[[1,"card","card-chart"],[1,"card-header","card-header-success"],["id","dailySalesChart",1,"ct-chart"],[1,"card-body"],[1,"card-title"],[1,"card-category"],[1,"text-success"],["class","text-center",4,"ngIf"],["class","container row mat-elevation-z8 m-5 p-5 m-auto",4,"ngIf"],[1,"text-center"],[1,"m-auto"],[1,"container","row","mat-elevation-z8","m-5","p-5","m-auto"],[1,"col"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","name"],[4,"ngIf"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com"],["type","number","matInput","","formControlName","phone"],["matInput","","formControlName","address","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["appearance","fill"],["formControlName","customerType"],["value",""],["selected","selected",3,"value",4,"ngFor","ngForOf"],["mode","indeterminate",4,"ngIf"],["type","submit",1,"btn","btn-primary","pull-left"],[1,"clearfix"],["selected","selected",3,"value"],["mode","indeterminate"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Pb(2,"div",2),n.Tb(),n.Ub(3,"div",3),n.Ub(4,"h4",4),n.Ac(5),n.Tb(),n.Ub(6,"p",5),n.Ub(7,"span",6),n.yc(8,he,2,0,"div",7),n.Tb(),n.Tb(),n.yc(9,ke,3,1,"div",8),n.Tb(),n.Tb()),2&t&&(n.Db(5),n.Cc(" ",1==e.customerId?"Actualizar Cliente":"Nuevo Cliente"," "),n.Db(3),n.kc("ngIf",e.loading),n.Db(1),n.kc("ngIf",!e.loading))},directives:[b.l,l.b,rt.p,rt.k,rt.f,M.c,M.f,R.b,rt.c,rt.j,rt.e,rt.m,fe.b,ot.a,st.m,b.k,M.b,ct.a],styles:["ngx-intl-tel-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#0000000a!important}"]}),t})();function Ie(t,e){1&t&&(n.Ub(0,"div",9),n.Pb(1,"mat-spinner",10),n.Tb())}function De(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function we(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function _e(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Ingresa una direcci\xf3n de correo v\xe1lida "),n.Tb())}function Me(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function Re(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function Ee(t,e){if(1&t&&(n.Ub(0,"mat-option",33),n.Ac(1),n.Tb()),2&t){const t=e.$implicit;n.kc("value",t._id),n.Db(1),n.Bc(t.typename)}}function Be(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function xe(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function Fe(t,e){1&t&&n.Pb(0,"mat-progress-bar",34)}function Ne(t,e){if(1&t){const t=n.Vb();n.Ub(0,"form",14),n.bc("ngSubmit",function(){return n.sc(t),n.fc(2).saveDataCustomer()}),n.Ub(1,"div",15),n.Ub(2,"div",16),n.Ub(3,"div",17),n.Ub(4,"mat-form-field",18),n.Ub(5,"mat-label"),n.Ac(6,"Nombre y Apellido"),n.Tb(),n.Pb(7,"input",19),n.yc(8,De,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Ub(9,"div",16),n.Ub(10,"div",17),n.Ub(11,"mat-form-field",18),n.Ub(12,"mat-label"),n.Ac(13,"Correo Electr\xf3nico"),n.Tb(),n.Pb(14,"input",21),n.yc(15,we,4,0,"mat-error",20),n.yc(16,_e,2,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(17,"div",15),n.Ub(18,"div",16),n.Ub(19,"div",17),n.Ub(20,"mat-form-field",18),n.Ub(21,"mat-label"),n.Ac(22,"Tel\xe9fono"),n.Tb(),n.Pb(23,"input",22),n.yc(24,Me,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Ub(25,"div",16),n.Ub(26,"div",17),n.Ub(27,"mat-form-field",18),n.Ub(28,"mat-label"),n.Ac(29,"Direcci\xf3n"),n.Tb(),n.Ub(30,"textarea",23),n.Ac(31,"                  "),n.Tb(),n.yc(32,Re,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(33,"div",15),n.Ub(34,"div",16),n.Ub(35,"div",17),n.Ub(36,"mat-form-field",24),n.Ub(37,"mat-label"),n.Ac(38,"Tipo de cliente"),n.Tb(),n.Ub(39,"mat-select",25),n.Ub(40,"mat-option",26),n.Ac(41,"Seleccione una opci\xf3n"),n.Tb(),n.yc(42,Ee,2,2,"mat-option",27),n.Tb(),n.yc(43,Be,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Ub(44,"div",16),n.Ub(45,"div",17),n.Ub(46,"mat-form-field",24),n.Ub(47,"mat-label"),n.Ac(48,"Estado"),n.Tb(),n.Ub(49,"mat-select",28),n.Ub(50,"mat-option",26),n.Ac(51,"Seleccione una opci\xf3n"),n.Tb(),n.Ub(52,"mat-option",29),n.Ac(53,"Activo"),n.Tb(),n.Ub(54,"mat-option",29),n.Ac(55,"Inactivo"),n.Tb(),n.Tb(),n.yc(56,xe,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.yc(57,Fe,1,0,"mat-progress-bar",30),n.Ub(58,"button",31),n.Ac(59,"Actualizar Cliente"),n.Tb(),n.Pb(60,"div",32),n.Tb()}if(2&t){const t=n.fc(2);n.kc("formGroup",t.customerForm),n.Db(8),n.kc("ngIf",t.dataControls.name.hasError("required")),n.Db(7),n.kc("ngIf",t.dataControls.email.hasError("required")),n.Db(1),n.kc("ngIf",t.dataControls.email.hasError("email")),n.Db(8),n.kc("ngIf",t.dataControls.phone.hasError("required")),n.Db(8),n.kc("ngIf",t.dataControls.address.hasError("required")),n.Db(10),n.kc("ngForOf",t.typeNames),n.Db(1),n.kc("ngIf",t.dataControls.customerType.hasError("required")),n.Db(9),n.kc("value",!0),n.Db(2),n.kc("value",!1),n.Db(2),n.kc("ngIf",t.dataControls.status.hasError("required")),n.Db(1),n.kc("ngIf",t.messageSend)}}function $e(t,e){if(1&t&&(n.Ub(0,"div",11),n.Ub(1,"div",12),n.yc(2,Ne,61,12,"form",13),n.Tb(),n.Tb()),2&t){const t=n.fc();n.Db(2),n.kc("ngIf",t.customerForm)}}let qe=(()=>{class t{constructor(t,e,a,r,n,o){this._activatedroute=t,this.formBuilder=e,this._snackBar=a,this.typeCustomer=r,this.customer=n,this.router=o,this.loading=!1,this.messageSend=!1,this.submittedErr=!1,this.messageError="",this.customerId="",this.typeNames=[]}ngOnInit(){this.loading=!0,this._activatedroute.params.pipe(Object(nt.a)(({id:t})=>this.customer.getCustomerById(t))).subscribe(t=>{this.loadTypeData(),this.customerId=t.customer._id,this.loading=!1;const{name:e,email:a,address:r,status:n}=t.customer;this.customerForm=this.formBuilder.group({name:[e,[rt.o.required]],email:[a,[rt.o.required,rt.o.email]],phone:[t.customer.phone,[rt.o.required]],address:[r,[rt.o.required]],customerType:[t.customer.customerType._id,[rt.o.required]],status:[n,[rt.o.required]]})})}loadTypeData(){this.typeCustomer.getTypeCustomer().subscribe(t=>{this.typeNames=t.typeCustomer})}get dataControls(){return this.customerForm.controls}fieldNotValid(t){var e;return!(!(null===(e=this.customerForm.get(t))||void 0===e?void 0:e.invalid)||!this.customerForm.touched)}saveDataCustomer(){const t=Object.keys(this.customerForm.controls);let e=0;if(Object.values(this.customerForm.controls).forEach(a=>{console.log(t[e],a.value,a.status),e++}),this.customerForm.invalid)return this.customerForm.markAllAsTouched(),void(this.submittedErr=!0);{this.messageSend=!0;const{name:t,email:e,phone:a,address:r,customerType:n,status:o}=this.customerForm.value;this.customerData={name:t,email:e,phone:a,address:r,customerType:n,status:o},this.customer.updateCustomer(this.customerId,this.customerData).subscribe(t=>{t.ok&&(this.messageSend=!1,this.router.navigateByUrl("/customers"),this.openSnackBar(t.message))},t=>{this.messageSend=!1,this.openSnackBar(t.error.message)})}}openSnackBar(t){this._snackBar.open(t,"Aceptar",{duration:6e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(r.a),n.Ob(rt.d),n.Ob(D.a),n.Ob(Ct),n.Ob(Jt),n.Ob(r.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-edit-customer"]],decls:10,vars:2,consts:[[1,"card","card-chart"],[1,"card-header","card-header-success"],["id","dailySalesChart",1,"ct-chart"],[1,"card-body"],[1,"card-title"],[1,"card-category"],[1,"text-success"],["class","text-center",4,"ngIf"],["class","container row mat-elevation-z8 m-5 p-5 m-auto",4,"ngIf"],[1,"text-center"],[1,"m-auto"],[1,"container","row","mat-elevation-z8","m-5","p-5","m-auto"],[1,"col"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","name"],[4,"ngIf"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com"],["type","number","matInput","","formControlName","phone"],["matInput","","formControlName","address","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["appearance","fill"],["formControlName","customerType"],["value",""],["selected","selected",3,"value",4,"ngFor","ngForOf"],["formControlName","status"],[3,"value"],["mode","indeterminate",4,"ngIf"],["type","submit",1,"btn","btn-primary","pull-left"],[1,"clearfix"],["selected","selected",3,"value"],["mode","indeterminate"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Pb(2,"div",2),n.Tb(),n.Ub(3,"div",3),n.Ub(4,"h4",4),n.Ac(5," Actualizar Cliente "),n.Tb(),n.Ub(6,"p",5),n.Ub(7,"span",6),n.yc(8,Ie,2,0,"div",7),n.Tb(),n.Tb(),n.yc(9,$e,3,1,"div",8),n.Tb(),n.Tb()),2&t&&(n.Db(8),n.kc("ngIf",e.loading),n.Db(1),n.kc("ngIf",!e.loading))},directives:[b.l,l.b,rt.p,rt.k,rt.f,M.c,M.f,R.b,rt.c,rt.j,rt.e,rt.m,fe.b,ot.a,st.m,b.k,M.b,ct.a],styles:[""]}),t})(),ze=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}borrarPopup(){this.dialogRef.close(!0)}ClosePopup(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(C.f),n.Ob(C.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-services-dialog"]],decls:16,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-danger",3,"click"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(n.Ub(0,"h2",0),n.Ac(1," Servicio: "),n.Ub(2,"small"),n.Ac(3),n.Tb(),n.Tb(),n.Pb(4,"hr"),n.Ub(5,"div",1),n.Ac(6," Esta seguro de eliminar a "),n.Ub(7,"b"),n.Ac(8),n.Tb(),n.Pb(9,"br"),n.Ac(10," \xbfDesea Continuar?\n"),n.Tb(),n.Ub(11,"div",2),n.Ub(12,"button",3),n.bc("click",function(){return e.borrarPopup()}),n.Ac(13,"Si, borrar"),n.Tb(),n.Ub(14,"button",4),n.bc("click",function(){return e.ClosePopup()}),n.Ac(15,"Cancelar"),n.Tb(),n.Tb()),2&t&&(n.Db(3),n.Bc(e.data.name),n.Db(5),n.Bc(e.data.name))},directives:[C.g,C.d,C.c,m.a],styles:[""]}),t})(),Le=(()=>{class t{constructor(t){this.http=t,this.baseUrl=o.a.apiUrl}getServicesApp(){return this.http.get(`${this.baseUrl}/services`)}getServiceById(t){return this.http.get(`${this.baseUrl}/services/${t}`)}updateService(t,e){return this.http.put(`${this.baseUrl}/services/${t}`,e)}newService(t){return this.http.post(`${this.baseUrl}/services/`,t)}removeService(t){return this.http.delete(`${this.baseUrl}/services/${t._id}`)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(s.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),je=(()=>{class t{transform(t){let e="";switch(t){case 14:e="Quincenal";break;case 30:e="Mensual";break;case 90:e="Trimestral";break;case 360:e="Anual";break;default:e="Sin programaci\xf3n"}return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Nb({name:"programmable",type:t,pure:!0}),t})();function Ve(t,e){1&t&&(n.Ub(0,"th",19),n.Ac(1," Nombre "),n.Tb())}function Ge(t,e){if(1&t&&(n.Ub(0,"td",20),n.Ac(1),n.Tb()),2&t){const t=e.$implicit;n.Db(1),n.Cc(" ",t.name," ")}}function He(t,e){1&t&&(n.Ub(0,"th",19),n.Ac(1," Programable "),n.Tb())}function Ke(t,e){if(1&t&&(n.Ub(0,"td",20),n.Ac(1),n.gc(2,"programmable"),n.Tb()),2&t){const t=e.$implicit;n.Db(1),n.Cc(" ",n.hc(2,1,t.programmable)," ")}}function Je(t,e){1&t&&(n.Ub(0,"th",19),n.Ac(1," Descripci\xf3n "),n.Tb())}function Qe(t,e){if(1&t&&(n.Ub(0,"span"),n.Ac(1),n.Tb()),2&t){const t=n.fc().$implicit;n.Db(1),n.Cc("",t.description," ")}}function Ye(t,e){1&t&&n.Ac(0,"Sin descripci\xf3n.")}function We(t,e){if(1&t&&(n.Ub(0,"td",20),n.yc(1,Qe,2,1,"span",21),n.yc(2,Ye,1,0,"ng-template",null,22,n.zc),n.Tb()),2&t){const t=e.$implicit,a=n.qc(3);n.Db(1),n.kc("ngIf",t.description)("ngIfElse",a)}}function Xe(t,e){1&t&&(n.Ub(0,"th",23),n.Ac(1," Acciones. "),n.Tb())}function Ze(t,e){if(1&t){const t=n.Vb();n.Ub(0,"span"),n.Ub(1,"mat-icon",27),n.bc("click",function(){n.sc(t);const e=n.fc().$implicit;return n.fc().removeService(e)}),n.Ac(2,"deleted"),n.Tb(),n.Tb()}}const ta=function(t){return["/services/edit",t]};function ea(t,e){if(1&t&&(n.Ub(0,"td",20),n.Ub(1,"mat-icon",24),n.Ub(2,"a",25),n.Ac(3,"edit"),n.Tb(),n.Tb(),n.yc(4,Ze,3,0,"span",26),n.Tb()),2&t){const t=e.$implicit,a=n.fc();n.Db(2),n.kc("routerLink",n.nc(2,ta,t._id)),n.Db(2),n.kc("ngIf","ADMIN_ROLE"===a.user.role)}}function aa(t,e){1&t&&n.Pb(0,"tr",28)}function ra(t,e){1&t&&n.Pb(0,"tr",29)}function na(t,e){if(1&t&&(n.Ub(0,"tr",30),n.Ub(1,"td",31),n.Ac(2),n.Tb(),n.Tb()),2&t){n.fc();const t=n.qc(6);n.Db(2),n.Cc('no hay registros con "',t.value,'"')}}const oa=function(){return[5,10,20]};let sa=(()=>{class t{constructor(){this.displayedColumns=["name","programmable","description","action"],this.dataSource=new y.l([]),this.serviceEvent=new n.o}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.paginator._intl.itemsPerPageLabel="Registros Por p\xe1gina"}applySearch(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}removeService(t){this.serviceEvent.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ib({type:t,selectors:[["app-services-table"]],viewQuery:function(t,e){if(1&t&&(n.Dc(w.a,1),n.Dc(_.a,1)),2&t){let t;n.pc(t=n.cc())&&(e.paginator=t.first),n.pc(t=n.cc())&&(e.sort=t.first)}},inputs:{dataSource:"dataSource",user:"user"},outputs:{serviceEvent:"serviceEvent"},decls:27,vars:5,consts:[[1,"mat-elevation-z8"],[1,"ml-2"],["appearance","standard"],["matInput","","placeholder","Buscar...",3,"keyup"],["input",""],["mat-flat-button","",1,"btnNewRegister"],["routerLink","/services/add",1,"text-white"],["mat-table","","matTableResponsive","","matSort","",1,"table-content-list",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","programmable"],["matColumnDef","description"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["notDescription",""],["mat-header-cell",""],[1,"cursor-pointer","btn-edit"],[3,"routerLink"],[4,"ngIf"],[1,"cursor-pointer","btn-deleted",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"mat-form-field",2),n.Ub(3,"mat-label"),n.Ac(4,"Buscar..."),n.Tb(),n.Ub(5,"input",3,4),n.bc("keyup",function(t){return e.applySearch(t)}),n.Tb(),n.Tb(),n.Ub(7,"button",5),n.Ub(8,"a",6),n.Ac(9,"Agregar Servicio"),n.Tb(),n.Tb(),n.Tb(),n.Ub(10,"table",7),n.Sb(11,8),n.yc(12,Ve,2,0,"th",9),n.yc(13,Ge,2,1,"td",10),n.Rb(),n.Sb(14,11),n.yc(15,He,2,0,"th",9),n.yc(16,Ke,3,3,"td",10),n.Rb(),n.Sb(17,12),n.yc(18,Je,2,0,"th",9),n.yc(19,We,4,2,"td",10),n.Rb(),n.Sb(20,13),n.yc(21,Xe,2,0,"th",14),n.yc(22,ea,5,4,"td",10),n.Rb(),n.yc(23,aa,1,0,"tr",15),n.yc(24,ra,1,0,"tr",16),n.yc(25,na,3,1,"tr",17),n.Tb(),n.Pb(26,"mat-paginator",18),n.Tb()),2&t&&(n.Db(10),n.kc("dataSource",e.dataSource),n.Db(13),n.kc("matHeaderRowDef",e.displayedColumns),n.Db(1),n.kc("matRowDefColumns",e.displayedColumns),n.Db(2),n.kc("pageSizeOptions",n.mc(4,oa)))},directives:[M.c,M.f,R.b,m.a,r.d,y.k,_.a,y.c,y.e,y.b,y.g,y.j,y.h,w.a,y.d,_.b,y.a,b.l,E.a,y.f,y.i],pipes:[je],styles:["table[_ngcontent-%COMP%]{width:100%}@media (max-width:768px){.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:auto;position:sticky;top:0;z-index:2}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;padding:1rem .5rem;justify-content:space-around}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%] > .mat-sort-header-container[_ngcontent-%COMP%]{padding-left:15px}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell.mat-column-actions[_ngcontent-%COMP%], .mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell.mat-sort-header-disabled[_ngcontent-%COMP%], .mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]   th.mat-header-cell[_ngcontent-%COMP%]:not([mat-sort-header]){display:none}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{height:auto}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-actions){display:grid;padding:.5rem;text-align:left;justify-content:left;word-break:break-word}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-actions) > *[_ngcontent-%COMP%]{grid-column:2}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:not(.mat-column-actions):before{content:attr(data-column-name);text-align:left}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-column-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:0 .5rem}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]   td.mat-column-actions[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin:.5rem 0}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:last-of-type   td[_ngcontent-%COMP%]:last-of-type{border:none}.mat-table[matTableResponsive][_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:not(:last-of-type)   td[_ngcontent-%COMP%]:last-of-type{border-bottom:.5rem solid #fafafa}.mat-card[_ngcontent-%COMP%]   .mat-table[matTableResponsive][_ngcontent-%COMP%], .mat-expansion-panel[_ngcontent-%COMP%]   .mat-table[matTableResponsive][_ngcontent-%COMP%]{border:.5rem solid #fafafa}}"]}),t})();function ca(t,e){1&t&&(n.Ub(0,"div",10),n.Pb(1,"mat-spinner",11),n.Tb())}function ia(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",12),n.Ub(1,"app-services-table",13),n.bc("serviceEvent",function(e){return n.sc(t),n.fc().deleteService(e)}),n.Tb(),n.Tb()}if(2&t){const t=n.fc();n.Db(1),n.kc("dataSource",t.dataSource)("user",t.user)}}let ba=(()=>{class t{constructor(t,e,a,r){this.dialog=t,this._snackBar=e,this.authService=a,this.servicesApp=r,this.loading=!1,this.dataSource=new y.l([]),this.messageError=""}get user(){return this.authService.userAuth}ngOnInit(){this.getServicesApp()}getServicesApp(){this.loading=!0,this.servicesApp.getServicesApp().subscribe(t=>{this.loading=!1,this.dataSource.data=t.services},t=>{this.loading=!1,this.openSnackBar("Ocurrio un error inesperado, intente nuevamente"+t),console.log(t)})}deleteService(t){this.dialog.open(ze,{width:"300px",data:t}).afterClosed().subscribe(e=>{e&&(this.loading=!0,this.servicesApp.removeService(t).subscribe(t=>{t?(this.getServicesApp(),this.openSnackBar(t.message)):(console.log("error"),this.openSnackBar("Ocurrio un error, intente nuevamente"))},t=>{console.log(t),400==t.status?(this.loading=!1,this.messageError="",t.error.errors.forEach(t=>{this.messageError+=`${t.msg} \n`}),this.openSnackBar(this.messageError)):401==t.status&&(this.loading=!1,this.openSnackBar(t.error.message))}))})}openSnackBar(t){this._snackBar.open(t,"Aceptar",{duration:4e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(C.b),n.Ob(D.a),n.Ob(P.a),n.Ob(Le))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-services"]],decls:11,vars:2,consts:[[1,"card","card-chart"],[1,"card-header","card-header-success"],["id","dailySalesChart",1,"ct-chart"],[1,"card-body"],[1,"card-title"],[1,"card-category"],[1,"text-success"],["class","text-center",4,"ngIf"],[1,"row"],["class","col",4,"ngIf"],[1,"text-center"],[1,"m-auto"],[1,"col"],[3,"dataSource","user","serviceEvent"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Pb(2,"div",2),n.Tb(),n.Ub(3,"div",3),n.Ub(4,"h4",4),n.Ac(5,"Servicios"),n.Tb(),n.Ub(6,"p",5),n.Ub(7,"span",6),n.yc(8,ca,2,0,"div",7),n.Tb(),n.Tb(),n.Ub(9,"div",8),n.yc(10,ia,2,2,"div",9),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Db(8),n.kc("ngIf",e.loading),n.Db(2),n.kc("ngIf",0!=e.dataSource.data.length&&!e.loading))},directives:[b.l,l.b,sa],styles:[""]}),t})();const ma=["autosize"];function la(t,e){1&t&&(n.Ub(0,"div",9),n.Pb(1,"mat-spinner",10),n.Tb())}function da(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function ua(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function pa(t,e){1&t&&n.Pb(0,"mat-progress-bar",30)}function fa(t,e){if(1&t){const t=n.Vb();n.Ub(0,"form",14),n.bc("ngSubmit",function(){n.sc(t);const e=n.fc(2);return e.saveService(1==e.serviceId?1:2)}),n.Ub(1,"div",15),n.Ub(2,"div",16),n.Ub(3,"div",17),n.Ub(4,"mat-form-field",18),n.Ub(5,"mat-label"),n.Ac(6,"Nombre del servicio"),n.Tb(),n.Pb(7,"input",19),n.yc(8,da,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Ub(9,"div",16),n.Ub(10,"div",17),n.Ub(11,"mat-form-field",21),n.Ub(12,"mat-label"),n.Ac(13,"Programable"),n.Tb(),n.Ub(14,"mat-select",22),n.Ub(15,"mat-option",23),n.Ac(16,"Seleccione una opci\xf3n"),n.Tb(),n.Ub(17,"mat-option",24),n.Ac(18,"Sin programaci\xf3n"),n.Tb(),n.Ub(19,"mat-option",24),n.Ac(20,"Quincenal"),n.Tb(),n.Ub(21,"mat-option",24),n.Ac(22,"Mensual"),n.Tb(),n.Ub(23,"mat-option",24),n.Ac(24,"Trimestral"),n.Tb(),n.Ub(25,"mat-option",24),n.Ac(26,"Anual"),n.Tb(),n.Tb(),n.yc(27,ua,4,0,"mat-error",20),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.Ub(28,"div",15),n.Ub(29,"div",16),n.Ub(30,"div",17),n.Ub(31,"mat-form-field",21),n.Ub(32,"mat-label"),n.Ac(33,"Descripci\xf3n"),n.Tb(),n.Pb(34,"textarea",25,26),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.yc(36,pa,1,0,"mat-progress-bar",27),n.Ub(37,"button",28),n.Ac(38),n.Tb(),n.Pb(39,"div",29),n.Tb()}if(2&t){const t=n.fc(2);n.kc("formGroup",t.serviceForm),n.Db(8),n.kc("ngIf",t.dataControls.name.hasError("required")),n.Db(9),n.kc("value",0),n.Db(2),n.kc("value",14),n.Db(2),n.kc("value",30),n.Db(2),n.kc("value",90),n.Db(2),n.kc("value",365),n.Db(2),n.kc("ngIf",t.dataControls.programmable.hasError("required")),n.Db(9),n.kc("ngIf",t.messageSend),n.Db(2),n.Cc("",1==t.serviceId?"Actualizar Servicio":"Agregar Servicio"," ")}}function ha(t,e){if(1&t&&(n.Ub(0,"div",11),n.Ub(1,"div",12),n.yc(2,fa,40,10,"form",13),n.Tb(),n.Tb()),2&t){const t=n.fc();n.Db(2),n.kc("ngIf",t.serviceForm)}}let ga=(()=>{class t{constructor(t,e,a,r,n){this.router=t,this.formBuilder=e,this.route=a,this._snackBar=r,this._service=n,this.loading=!1,this.messageSend=!1,this.messageError="",this.paramId=""}ngOnInit(){this.loading=!0,"edit"==this.route.snapshot.url[1].path?(this.serviceId=!0,this.route.params.pipe(Object(nt.a)(({id:t})=>this._service.getServiceById(t))).subscribe(t=>{const{name:e,programmable:a,description:r,_id:n}=t.services;t&&(console.log(t.services),this.paramId=n,this.loading=!1,this.serviceForm=this.formBuilder.group({name:[e,[rt.o.required]],programmable:[a,[rt.o.required]],description:[r]}))})):(this.loading=!1,this.serviceId=!1,this.serviceForm=this.formBuilder.group({name:["",[rt.o.required]],programmable:["",[rt.o.required]],description:[""]}))}get dataControls(){return this.serviceForm.controls}saveService(t){const e=Object.keys(this.serviceForm.controls);let a=0;if(Object.values(this.serviceForm.controls).forEach(t=>{console.log(e[a],t.value,t.status),a++}),1==t){if(this.serviceForm.invalid)return void this.serviceForm.markAllAsTouched();console.log(this.serviceForm.value),this.messageSend=!0,this._service.updateService(this.paramId,this.serviceForm.value).subscribe(t=>{t&&(this.router.navigateByUrl("/services"),this.openSnackBar(t.message))},t=>{this.messageError="",this.messageSend=!1,t.error.errors.forEach(t=>{this.messageError+=`${t.msg} \n`}),this.openSnackBar(this.messageError)})}else{if(this.serviceForm.invalid)return void this.serviceForm.markAllAsTouched();this.messageSend=!0,this._service.newService(this.serviceForm.value).subscribe(t=>{t.ok&&(this.messageSend=!1,this.serviceForm=this.formBuilder.group({name:["",[rt.o.required]],programmable:["",[rt.o.required]],description:[""]}),this.openSnackBar(t.message))},t=>{this.messageError="",this.messageSend=!1,t.error.errors.forEach(t=>{this.messageError+=`${t.msg} \n`}),this.openSnackBar(this.messageError)})}}openSnackBar(t){this._snackBar.open(t,"Aceptar",{duration:5e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(r.b),n.Ob(rt.d),n.Ob(r.a),n.Ob(D.a),n.Ob(Le))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-add-service"]],viewQuery:function(t,e){if(1&t&&n.Dc(ma,1),2&t){let t;n.pc(t=n.cc())&&(e.autosize=t.first)}},decls:10,vars:3,consts:[[1,"card","card-chart"],[1,"card-header","card-header-success"],["id","dailySalesChart",1,"ct-chart"],[1,"card-body"],[1,"card-title"],[1,"card-category"],[1,"text-success"],["class","text-center",4,"ngIf"],["class","container row mat-elevation-z8 m-5 p-5 m-auto",4,"ngIf"],[1,"text-center"],[1,"m-auto"],[1,"container","row","mat-elevation-z8","m-5","p-5","m-auto"],[1,"col"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","name"],[4,"ngIf"],["appearance","fill"],["formControlName","programmable"],["value",""],[3,"value"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","5","cdkAutosizeMaxRows","5","formControlName","description"],["autosize","cdkTextareaAutosize"],["mode","indeterminate",4,"ngIf"],["type","submit",1,"btn","btn-primary","pull-left"],[1,"clearfix"],["mode","indeterminate"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Pb(2,"div",2),n.Tb(),n.Ub(3,"div",3),n.Ub(4,"h4",4),n.Ac(5),n.Tb(),n.Ub(6,"p",5),n.Ub(7,"span",6),n.yc(8,la,2,0,"div",7),n.Tb(),n.Tb(),n.yc(9,ha,3,1,"div",8),n.Tb(),n.Tb()),2&t&&(n.Db(5),n.Cc(" ",1==e.serviceId?"Actualizar Servicio":"Nuevo Servicio"," "),n.Db(3),n.kc("ngIf",e.loading),n.Db(1),n.kc("ngIf",!e.loading))},directives:[b.l,l.b,rt.p,rt.k,rt.f,M.c,M.f,R.b,rt.c,rt.j,rt.e,ot.a,st.m,fe.b,M.b,ct.a],styles:[""]}),t})(),va=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){}borrarPopup(){this.dialogRef.close(!0)}ClosePopup(){this.dialogRef.close(!1)}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(C.f),n.Ob(C.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-profile-delete"]],decls:15,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-danger",3,"click"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(n.Ub(0,"h2",0),n.Ac(1," Usuario: "),n.Ub(2,"small"),n.Ac(3),n.Tb(),n.Tb(),n.Pb(4,"hr"),n.Ub(5,"div",1),n.Ub(6,"p"),n.Ac(7," Una vez que se elimine su cuenta, todos sus recursos y datos se eliminar\xe1n de forma permanente. Antes de eliminar su cuenta, descargue cualquier dato o informaci\xf3n que desee conservar. "),n.Tb(),n.Pb(8,"br"),n.Ac(9," \xbfDesea Continuar?\n"),n.Tb(),n.Ub(10,"div",2),n.Ub(11,"button",3),n.bc("click",function(){return e.borrarPopup()}),n.Ac(12,"Si, borrar"),n.Tb(),n.Ub(13,"button",4),n.bc("click",function(){return e.ClosePopup()}),n.Ac(14,"Cancelar"),n.Tb(),n.Tb()),2&t&&(n.Db(3),n.Bc(e.data.username))},directives:[C.g,C.d,C.c,m.a],styles:[""]}),t})(),Ta=(()=>{class t{constructor(t){this.http=t,this.baseUrl=o.a.apiUrl}updateImageProfile(t,e){const a=new FormData;return a.append("file",e,e.name),this.http.put(`${this.baseUrl}/uploads/users/${t.uid}`,a)}}return t.\u0275fac=function(e){return new(e||t)(n.Yb(s.b))},t.\u0275prov=n.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ua(t,e){1&t&&(n.Ub(0,"div",10),n.Pb(1,"mat-spinner",11),n.Tb())}function ya(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function Ca(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Completa este "),n.Ub(2,"strong"),n.Ac(3,"campo"),n.Tb(),n.Tb())}function Aa(t,e){1&t&&(n.Ub(0,"mat-error"),n.Ac(1," Ingresa una direcci\xf3n de correo v\xe1lida "),n.Tb())}function Pa(t,e){1&t&&n.Pb(0,"mat-progress-bar",34)}function Oa(t,e){if(1&t){const t=n.Vb();n.Ub(0,"form",26),n.bc("ngSubmit",function(){return n.sc(t),n.fc(2).saveProfileData()}),n.Ub(1,"div",0),n.Ub(2,"div",19),n.Ub(3,"div",27),n.Ub(4,"mat-form-field",28),n.Ub(5,"mat-label"),n.Ac(6,"Nombre"),n.Tb(),n.Pb(7,"input",29),n.yc(8,ya,4,0,"mat-error",30),n.Tb(),n.Tb(),n.Tb(),n.Ub(9,"div",19),n.Ub(10,"div",27),n.Ub(11,"mat-form-field",28),n.Ub(12,"mat-label"),n.Ac(13,"Correo Electr\xf3nico"),n.Tb(),n.Pb(14,"input",31),n.yc(15,Ca,4,0,"mat-error",30),n.yc(16,Aa,2,0,"mat-error",30),n.Tb(),n.Tb(),n.Tb(),n.Tb(),n.yc(17,Pa,1,0,"mat-progress-bar",21),n.Ub(18,"button",32),n.Ac(19,"Guardar"),n.Tb(),n.Pb(20,"div",33),n.Tb()}if(2&t){const t=n.fc(2);n.kc("formGroup",t.profileForm),n.Db(8),n.kc("ngIf",t.dataControls.name.hasError("required")),n.Db(7),n.kc("ngIf",t.dataControls.email.hasError("required")),n.Db(1),n.kc("ngIf",t.dataControls.email.hasError("email")),n.Db(1),n.kc("ngIf",t.messageSend)}}function ka(t,e){1&t&&n.Pb(0,"mat-progress-bar",34)}function Sa(t,e){if(1&t&&(n.Pb(0,"img",35),n.gc(1,"imageUser")),2&t){const t=n.fc(2);n.kc("src",n.hc(1,2,t.userImage),n.tc)("alt",null==t.userImage?null:t.userImage.name)}}const Ia=function(){return{opacity:"0.3"}},Da=function(){return{opacity:"initial"}};function wa(t,e){if(1&t&&n.Pb(0,"img",36),2&t){const t=n.fc(2);n.kc("src",t.pictureProfile,n.tc)("alt",null==t.userImage?null:t.userImage.name)("ngStyle",t.loadingImage?n.mc(3,Ia):n.mc(4,Da))}}function _a(t,e){1&t&&n.Pb(0,"mat-progress-bar",34)}function Ma(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",12),n.Ub(1,"div",13),n.Ac(2," Actualice la informaci\xf3n de perfil y la direcci\xf3n de correo electr\xf3nico de su cuenta. "),n.yc(3,Oa,21,5,"form",14),n.Pb(4,"hr"),n.Ub(5,"form",15),n.Ub(6,"div",16),n.Ub(7,"div",17),n.Ub(8,"p",18),n.Ac(9," Eliminar permanente tu cuenta "),n.Tb(),n.Tb(),n.Ub(10,"div",19),n.Ub(11,"button",20),n.bc("click",function(){return n.sc(t),n.fc().deleteAccount()}),n.Ac(12,"Eliminar Cuenta"),n.Tb(),n.Tb(),n.yc(13,ka,1,0,"mat-progress-bar",21),n.Tb(),n.Tb(),n.Tb(),n.Ub(14,"div",22),n.yc(15,Sa,2,4,"img",23),n.yc(16,wa,1,5,"ng-template",null,24,n.zc),n.yc(18,_a,1,0,"mat-progress-bar",21),n.Pb(19,"hr"),n.Ub(20,"input",25),n.bc("change",function(e){return n.sc(t),n.fc().onselectFile(e)}),n.Tb(),n.Tb(),n.Tb()}if(2&t){const t=n.qc(17),e=n.fc();n.Db(3),n.kc("ngIf",e.profileForm),n.Db(10),n.kc("ngIf",e.progressRemove),n.Db(2),n.kc("ngIf",!e.pictureBoolean)("ngIfElse",t),n.Db(3),n.kc("ngIf",e.loadingImage)}}let Ra=(()=>{class t{constructor(t,e,a,r,n,o,s){this.authService=t,this.profileService=e,this.UserService=a,this.formBuilder=r,this._snackBar=n,this.dialog=o,this._router=s,this.loading=!0,this.loadingImage=!1,this.messageSend=!1,this.progressRemove=!1,this.pictureBoolean=!1,this.messageError="",this.idUser=""}get user(){return this.authService.userAuth}ngOnInit(){setTimeout(()=>{this.getUserImage()},500)}getUserImage(){this.UserService.getUserById(this.user.uid).subscribe(t=>{this.loading=!1,this.userImage=t.user,this.idUser=t.user.uid,this.profileForm=this.formBuilder.group({name:[this.userImage.name,[rt.o.required]],email:[this.userImage.email,[rt.o.required]]})})}onselectFile(t){if(t.target.files){const e=new FileReader;e.readAsDataURL(t.target.files[0]),e.onload=e=>{this.loadingImage=!0,this.pictureBoolean=!0,this.pictureProfile=e.target.result,this.file=t.target.files[0],this.profileService.updateImageProfile(this.user,this.file).subscribe(t=>{t.ok&&(this.loadingImage=!1,this.openSnackBar(t.message))})}}}get dataControls(){return this.profileForm.controls}saveProfileData(){const t=Object.keys(this.profileForm.controls);let e=0;Object.values(this.profileForm.controls).forEach(a=>{console.log(t[e],a.value,a.status),e++}),this.profileForm.invalid?this.profileForm.markAllAsTouched():(this.messageSend=!0,this.UserService.UpdateProfileUser(this.profileForm.value,this.idUser).subscribe(t=>{this.messageSend=!1,t.ok&&this.openSnackBar(t.message)},t=>{this.messageSend=!1,this.messageError="",400==t.status?(this.loading=!1,t.error.errors.forEach(t=>{this.messageError+=`${t.msg} \n`}),this.openSnackBar(this.messageError)):404==t.status&&(this.loading=!1,this.openSnackBar(t.error.message))}))}deleteAccount(){this.dialog.open(va,{width:"350px",data:this.userImage}).afterClosed().subscribe(t=>{t&&(this.progressRemove=!0,this.UserService.removeUserProfile(this.userImage).subscribe(t=>{t&&(this.progressRemove=!1,this._router.navigateByUrl("/auth/login"),this.openSnackBar(t.message))},t=>{this.progressRemove=!1,401==t.status?this.openSnackBar("Token no v\xe1lido, intente nuevamente"):400==t.status&&this.openSnackBar(t.error.errors[0].msg)}))})}openSnackBar(t){this._snackBar.open(t,"Aceptar",{duration:5e3})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(P.a),n.Ob(Ta),n.Ob(I),n.Ob(rt.d),n.Ob(D.a),n.Ob(C.b),n.Ob(r.b))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-profile"]],decls:11,vars:2,consts:[[1,"row"],[1,"card","card-chart"],[1,"card-header","card-header-success"],["id","dailySalesChart",1,"ct-chart"],[1,"card-body"],[1,"card-title"],[1,"card-category"],[1,"text-success"],["class","text-center",4,"ngIf"],["class","container row mat-elevation-z8 m-5 p-5 m-auto",4,"ngIf"],[1,"text-center"],[1,"m-auto"],[1,"container","row","mat-elevation-z8","m-5","p-5","m-auto"],[1,"col-md-6","mb-3"],["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off"],[1,"row","mt-2"],[1,"col-md-6","m-auto"],[1,"mt-2"],[1,"col-md-6"],["type","button",1,"btn","btn-primary","pull-right",3,"click"],["mode","indeterminate",4,"ngIf"],[1,"col-md-6","text-center"],["class","avatar",3,"src","alt",4,"ngIf","ngIfElse"],["newImage",""],["type","file","name","file",3,"change"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group"],["appearance","fill",1,"example-full-width"],["type","text","matInput","","formControlName","name"],[4,"ngIf"],["type","email","matInput","","formControlName","email"],["type","submit",1,"btn","btn-primary","pull-right"],[1,"clearfix"],["mode","indeterminate"],[1,"avatar",3,"src","alt"],[1,"avatar",3,"src","alt","ngStyle"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"div",1),n.Ub(2,"div",2),n.Pb(3,"div",3),n.Tb(),n.Ub(4,"div",4),n.Ub(5,"h4",5),n.Ac(6," Informaci\xf3n de Perfil"),n.Tb(),n.Ub(7,"p",6),n.Ub(8,"span",7),n.yc(9,Ua,2,0,"div",8),n.Tb(),n.Tb(),n.yc(10,Ma,21,5,"div",9),n.Tb(),n.Tb(),n.Tb()),2&t&&(n.Db(9),n.kc("ngIf",e.loading),n.Db(1),n.kc("ngIf",!e.loading))},directives:[b.l,l.b,rt.p,rt.k,rt.f,M.c,M.f,R.b,rt.c,rt.j,rt.e,M.b,ct.a,b.m],pipes:[B],styles:[".avatar[_ngcontent-%COMP%]{vertical-align:middle;width:187px;height:197px;border-radius:50%}"]}),t})();var Ea=a("UTcu");const Ba=[{path:"dashboard",component:U,canActivate:[Ea.a]},{path:"users",component:at,canActivate:[Ea.a]},{path:"users/add",component:Ut,canActivate:[Ea.a]},{path:"users/edit/:id",component:Ut,canActivate:[Ea.a]},{path:"type-customer",component:qt,canActivate:[Ea.a]},{path:"type-customer/add",component:Ht,canActivate:[Ea.a]},{path:"type-customer/edit/:id",component:Ht,canActivate:[Ea.a]},{path:"customers",component:pe,canActivate:[Ea.a]},{path:"customers/add",component:Se,canActivate:[Ea.a]},{path:"customers/edit/:id",component:qe,canActivate:[Ea.a]},{path:"services",component:ba,canActivate:[Ea.a]},{path:"services/add",component:ga,canActivate:[Ea.a]},{path:"services/edit/:id",component:ga,canActivate:[Ea.a]},{path:"profile",component:Ra,canActivate:[Ea.a]},{path:"",redirectTo:"dashboard"}];let xa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({imports:[[r.e.forChild(Ba)],r.e]}),t})()}}]);